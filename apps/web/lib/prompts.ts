// This file is auto-generated by scripts/sync-prompts.mjs.
// Source: packages/prompts/**/*.md

const PROMPTS: Record<string, string> = {
  "check/consistency.v1.md": "﻿# 一致性检查 v1\n\n你会收到 JSON 输入（包含 truthSnapshot/roles）。只输出 JSON，不要 Markdown，不要解释。\n\n输出格式：\n{\n  \"issues\": [\n    {\n      \"type\": \"consistency\",\n      \"severity\": \"P0|P1|P2\",\n      \"title\": \"问题标题\",\n      \"description\": \"问题说明\",\n      \"refs\": []\n    }\n  ]\n}\n\n规则：\n- 仅输出真正冲突或高风险问题。\n- 若无问题，issues 为空数组。\n",
  "check/logic.v1.md": "﻿# 逻辑审查 v1\n\n你会收到 JSON 输入（包含 truthSnapshot/context）。只输出 JSON，不要 Markdown，不要解释。\n\n输出格式：\n{\n  \"issues\": [\n    {\n      \"type\": \"logic_check\",\n      \"severity\": \"P0|P1|P2\",\n      \"title\": \"问题标题\",\n      \"description\": \"问题说明\",\n      \"refs\": []\n    }\n  ]\n}\n\n规则：\n- P0：硬逻辑冲突（时间线冲突/Truth 冲突/视角污染）。\n- P1：重要缺失或可导致跑偏的问题。\n- P2：改进建议类。\n- 若无问题，issues 为空数组。\n",
  "derive/clue.v1.md": "﻿# 线索生成 v1\n\n你会收到 JSON 输入（包含 truthSnapshot 等）。只输出 JSON，不要 Markdown，不要解释。\n\n输出格式：\n{\n  \"items\": [\n    {\n      \"title\": \"线索名\",\n      \"summary\": \"一句话摘要\",\n      \"content\": {\n        \"type\": \"doc\",\n        \"content\": [\n          { \"type\": \"paragraph\", \"content\": [{ \"type\": \"text\", \"text\": \"线索描述\" }] }\n        ]\n      },\n      \"refs\": [],\n      \"risk_flags\": []\n    }\n  ]\n}\n\n规则：\n- items 建议 1~3 条。\n- content 必须是 TipTap doc。\n- 不得违反 Truth。\n",
  "derive/clue.v2.md": "﻿# 线索实体映射（Clue Synthesis）v2\n\n## Inputs (必需)\n- 事实源：[Truth]\n- 叙事源：[Story]\n\n## Instructions\n1. 物证化：将 Story 中提到的物品转化为线索卡。\n2. 证据链对齐：每一条核心线索必须能对应 Truth 中的一个事实。\n3. 只输出 JSON，不要 Markdown，不要解释。\n\n## Output JSON\n{\n  \"preview\": \"现场残留的证据正在低语，我们为您发现了 12 处疑点...\",\n  \"items\": [\n    {\n      \"type\": \"Clue\",\n      \"title\": \"#线索名\",\n      \"content\": \"具有画面感的描述。附带搜证等级要求。\",\n      \"meta\": { \"truth_link\": \"指向真相中的第 N 条\", \"is_trap\": false }\n    }\n  ]\n}\n",
  "derive/dm.v1.md": "﻿# DM 手册生成 v1\n\n你会收到 JSON 输入（包含 truthSnapshot 等）。只输出 JSON，不要 Markdown，不要解释。\n\n输出格式：\n{\n  \"items\": [\n    {\n      \"title\": \"主持提示标题\",\n      \"summary\": \"一句话摘要\",\n      \"content\": {\n        \"type\": \"doc\",\n        \"content\": [\n          { \"type\": \"paragraph\", \"content\": [{ \"type\": \"text\", \"text\": \"主持提示正文\" }] }\n        ]\n      },\n      \"refs\": [],\n      \"risk_flags\": []\n    }\n  ]\n}\n\n规则：\n- items 建议 1~3 条。\n- content 必须是 TipTap doc。\n- 不得违反 Truth。\n",
  "derive/dm.v2.md": "﻿# DM Bible 自动化集成 v2\n\n## Inputs (必需)\n- 全局事实：[Truth]\n- 叙事总纲：[Story]\n- 角色/线索/时间全清单\n\n## Instructions\n1. 建立上帝视角：解析所有诡计，直接点出凶手手法。\n2. 节奏控场：根据 Timeline 提供每一幕的开场白（DM 话术）与发放线索建议。\n3. 只输出 JSON，不要 Markdown，不要解释。\n\n## Output JSON\n{\n  \"preview\": \"欢迎来到导演位，这场游戏的胜负手在于...\",\n  \"items\": [\n    {\n      \"type\": \"DM\",\n      \"title\": \"真相解析图谱\",\n      \"content\": \"详细的诡计复盘与凶手心路历程。\"\n    }\n  ]\n}\n",
  "derive/outline.v1.md": "﻿# 主线构思 v1\n\n你会收到 JSON 输入（包含 truthSnapshot 等）。只输出 JSON，不要 Markdown，不要解释。\n\n输出格式：\n{\n  \"items\": [\n    {\n      \"title\": \"主线建议\",\n      \"summary\": \"一句话摘要\",\n      \"content\": {\n        \"type\": \"doc\",\n        \"content\": [\n          { \"type\": \"paragraph\", \"content\": [{ \"type\": \"text\", \"text\": \"主线构思内容\" }] }\n        ]\n      },\n      \"refs\": [],\n      \"risk_flags\": []\n    }\n  ]\n}\n\n规则：\n- items 建议 1~3 条。\n- content 必须是 TipTap doc。\n- 不得违反 Truth。\n",
  "derive/outline.v2.md": "﻿# Truth 事实源架构设计 v2\n\n## Context\n基于用户的灵感，构建剧本的底层物理事实。Truth 不含情感，只含因果与诡计。\n\n## Instructions\n1. 设计一个核心诡计（Trick），并将其拆解为不可推翻的事实流。\n2. 确保事实之间不存在循环依赖或时空冲突。\n3. 只输出 JSON，不要 Markdown，不要解释。\n4. items 只能 1 条；content 用自然语言按时间顺序列出事实链（谁、何时、做了什么、留下了什么）。\n\n## Output JSON\n{\n  \"preview\": \"这是一场关于[诡计核心]的博弈。真相被埋藏在[某处]...\",\n  \"items\": [\n    {\n      \"type\": \"Truth\",\n      \"title\": \"真相线全复盘\",\n      \"content\": \"在此处详细列出按时间顺序排列的物理事实。每一步必须清晰记录谁、在什么时候、做了什么、留下了什么。\"\n    }\n  ]\n}\n",
  "derive/role.v1.md": "﻿# 角色生成 v1\n\n你会收到 JSON 输入（包含 truthSnapshot 等）。只输出 JSON，不要 Markdown，不要解释。\n\n输出格式：\n{\n  \"roles\": [\n    {\n      \"name\": \"角色名\",\n      \"summary\": \"一句话人物动机/背景摘要\",\n      \"meta\": {}\n    }\n  ]\n}\n\n规则：\n- 严格基于 Truth/Story/Context，不新增与事实冲突的内容。\n- 角色名尽量简短可辨识。\n- 若无法推断，返回空数组。\n",
  "derive/role.v2.md": "﻿# 角色叙事视角切割（Asymmetry Writing）v2\n\n## Inputs (必需)\n- 事实源：[Truth]\n- 叙事源：[Story]\n- 目标角色：[角色名]\n- 角色秘密：[Secret]\n\n## Instructions\n1. 视角剪裁：仅允许出现该角色在 Story/Truth 中物理上可感知的片段。\n2. 身份重构：以第一人称撰写，将该角色的心理动机深度融合进叙事中。\n3. 谎言空间：预留角色在对质时可以编造谎言的“模糊地带”。\n4. 只输出 JSON，不要 Markdown，不要解释。\n5. items 每条对应一个角色，title 必须是角色名（建议使用 @角色名）。同一角色不要拆成多条 items。\n\n## Output JSON\n{\n  \"preview\": \"作为 @[角色名]，你的眼中看出去的世界是灰暗的，直到那一刻...\",\n  \"items\": [\n    {\n      \"type\": \"Role\",\n      \"title\": \"@角色名\",\n      \"content\": \"【个人本】第一人称剧本内容。\\n【任务清单】列出主线与支线任务。提及其他内容需用 @角色 或 #线索。\"\n    }\n  ]\n}\n",
  "derive/story.v1.md": "﻿# Story 生成 v1\n\n你会收到 JSON 输入（包含 truthSnapshot 等）。只输出 JSON，不要 Markdown，不要解释。\n\n输出格式：\n{\n  \"items\": [\n    {\n      \"title\": \"剧情段落标题\",\n      \"summary\": \"一句话总结\",\n      \"content\": {\n        \"type\": \"doc\",\n        \"content\": [\n          { \"type\": \"paragraph\", \"content\": [{ \"type\": \"text\", \"text\": \"剧情正文\" }] }\n        ]\n      },\n      \"refs\": [],\n      \"risk_flags\": []\n    }\n  ]\n}\n\n规则：\n- items 建议 1~3 条。\n- content 必须是 TipTap doc 结构。\n- 不得违反 Truth。\n",
  "derive/story.v2.md": "﻿# Story 叙事总纲生成 v2\n\n## Inputs (必需)\n- 锁定事实：[Truth 内容]\n\n## Instructions\n1. 将 Truth 的冰冷事实，转化为具备“灰烬工作室”风格的、极具张力的文学叙事。\n2. 明确标注出哪些是“误导（Red Herring）”，哪些是“情感钩子”。\n3. 只输出 JSON，不要 Markdown，不要解释。\n4. items 只能 1 条；content 输出三幕式（往事/案发/结局）且必须使用 @角色 语法。\n\n## Output JSON\n{\n  \"preview\": \"故事发生在一个[环境描述]的地方，六名各怀鬼胎的人聚在一起...\",\n  \"items\": [\n    {\n      \"type\": \"Story\",\n      \"title\": \"文学复盘总纲\",\n      \"content\": \"输出包含往事、案发、结局三幕式的完整文学性复盘内容。必须使用 @角色 语法，并标注误导与情感钩子。\"\n    }\n  ]\n}\n",
  "derive/timeline.v1.md": "﻿# 时间线生成 v1\n\n你会收到 JSON 输入（包含 truthSnapshot 等）。只输出 JSON，不要 Markdown，不要解释。\n\n输出格式：\n{\n  \"items\": [\n    {\n      \"title\": \"时间点标题\",\n      \"summary\": \"一句话摘要\",\n      \"content\": {\n        \"type\": \"doc\",\n        \"content\": [\n          { \"type\": \"paragraph\", \"content\": [{ \"type\": \"text\", \"text\": \"时间线事件描述\" }] }\n        ]\n      },\n      \"refs\": [],\n      \"risk_flags\": []\n    }\n  ]\n}\n\n规则：\n- items 建议 1~3 条。\n- content 必须是 TipTap doc。\n- 不得违反 Truth。\n",
  "derive/timeline.v2.md": "﻿# Timeline 结构节点提取 v2\n\n## Inputs (必需)\n- 事实源：[Truth]\n- 叙事源：[Story]\n\n## Instructions\n1. 从上述文档中提取所有关键的时间点节点。\n2. 识别每一个时间点下所有角色的具体位置与行为状态。\n3. 每个 items 对应一个时间节点，title 必须包含时间点（例如 18:00 / T-1 18:00）。\n4. 只输出 JSON，不要 Markdown，不要解释。\n\n## Output JSON\n{\n  \"preview\": \"我们为您梳理了从案发前 3 小时到现场发现的完整时空网络...\",\n  \"items\": [\n    {\n      \"type\": \"Timeline\",\n      \"title\": \"[18:00] 节点事件\",\n      \"content\": \"描述在该时间点发生的物理事实，标注涉及的 @角色。\",\n      \"meta\": { \"time\": \"18:00\", \"is_alibi_node\": true }\n    }\n  ]\n}\n",
  "derive/worldcheck.v1.md": "﻿# 世界观合理性检查 v1\n\n你会收到 JSON 输入（包含 truthSnapshot 等）。只输出 JSON，不要 Markdown，不要解释。\n\n输出格式：\n{\n  \"items\": [\n    {\n      \"title\": \"问题或建议标题\",\n      \"summary\": \"一句话摘要\",\n      \"content\": {\n        \"type\": \"doc\",\n        \"content\": [\n          { \"type\": \"paragraph\", \"content\": [{ \"type\": \"text\", \"text\": \"问题描述与修复建议\" }] }\n        ]\n      },\n      \"refs\": [],\n      \"risk_flags\": []\n    }\n  ]\n}\n\n规则：\n- items 建议 1~3 条。\n- content 必须是 TipTap doc。\n",
  "truth/generate.v1.md": "# generate.v1\n",
  "truth/revise.v1.md": "# revise.v1\n"
};

export async function loadPrompt(relativePath: string) {
  const key = relativePath.replace(/^[\\/]+/, "");
  return PROMPTS[key] || "";
}
