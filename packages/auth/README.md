# packages/auth

## 用途/职责
认证与授权能力边界，沉淀身份、令牌、会话、权限校验等通用能力；不承载业务规则。

## 包含内容
- 当前为空目录，预留认证/授权的共享实现与约定文档。

## 与其它目录的依赖关系
- 被依赖方：`apps/api`、`packages/domain`（仅在需要时引用权限策略）。
- 允许依赖：`/packages/shared`。
- 禁止依赖：`/apps/web`、`/infra/*`、`/packages/database`（避免将存储细节写死）。

## 禁止事项
- 在 auth 包中实现业务流程或领域规则。
- 将环境与部署配置直接写入 auth 实现。
- 混入前端 UI 或 API 路由逻辑。

## 常见变更场景
- 新增权限能力：定义权限模型与校验接口，并说明与 Domain Policy 的关系。
- 新增令牌字段：更新文档并确认对下游 API 的影响。
- 新增会话策略：与 API 中间件对齐，不在应用层散落实现。

## 命名规范/约定
- 认证/授权能力命名采用清晰语义（如 `AuthContext`、`PermissionSet`）。
- 权限标识保持稳定且可审计，避免隐式魔法值。

## 测试/验证原则
- 验证授权边界清晰、失败路径可预期。
- 变更需确保对 Domain 规则与 API 契约无副作用。